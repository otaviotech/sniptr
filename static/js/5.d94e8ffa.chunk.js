(this.webpackJsonpsniptr=this.webpackJsonpsniptr||[]).push([[5],{163:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var a=n(2),r=n(136),i=n(137),p=n(144),o=n(139),s=n(0),c=n.n(s),u=n(18),l=n(393),g=n(390),m=n(226),d=n(185),h=n(399),f=n(401),b=n(402),E=n(403),S=n(404),v=n(396),y=n(389),L=n(395),C=n(400),O=n(9),j=function(){return O.a.get("/programmingLanguages.json").then(O.c)},w=function(e){Object(o.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this,e)).fetchProgrammingLanguages=function(){a.setState({isFetchingProgrammingLanguages:!0}),j().then((function(e){a.setState({programmingLanguages:e}),a.setState({isFetchingProgrammingLanguages:!1})}))},a.renderLanguagesMenu=function(){return c.a.createElement(v.a,{onClick:function(e){var t=e.key;return a.props.onChange(t)}},a.state.programmingLanguages.map((function(e){return c.a.createElement(v.a.Item,{key:e.id},e.name)})))},a.state={programmingLanguages:[],isFetchingProgrammingLanguages:!1},a}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.fetchProgrammingLanguages()}},{key:"render",value:function(){var e=this,t=c.a.createElement(C.a,{spin:!0}),n=c.a.createElement(y.a,{indicator:t});if(this.state.isFetchingProgrammingLanguages)return n;var a=this.state.programmingLanguages.length>0,r=!!this.props.programmingLanguageId,i=a&&r?this.state.programmingLanguages.find((function(t){return t.id===e.props.programmingLanguageId})).name:"Language...",p=a&&r?this.state.programmingLanguages.find((function(t){return t.id===e.props.programmingLanguageId})).fileExtensions[0]:".ext";return c.a.createElement(L.a.Button,{overlay:this.renderLanguagesMenu(),icon:c.a.createElement("span",null,p)},i)}}]),n}(s.Component),k=n(392),I=n(394),P=function(e){return c.a.createElement(k.a,{layout:"vertical"},c.a.createElement(k.a.Item,{label:"Name: "},c.a.createElement(I.a,{placeholder:"Print a Javascript array.",value:e.snippet.name,onChange:function(t){return e.onChangeName(t.target.value)}})))},D=n(214),T=n.n(D),A=n(150);n(220),n(221),n(222),n(223),n(224);function x(e){return c.a.createElement(T.a,{mode:"javascript",theme:"tomorrow",width:"100%",onChange:Object(A.debounce)(e.onChange,e.debounceDelay),value:e.value,name:"UNIQUE_ID_OF_DIV",placeholder:e.placeholder,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,editorProps:{$blockScrolling:!0},setOptions:{useWorker:!1,enableBasicAutocompletion:!0,enableLiveAutocompletion:!0,enableSnippets:!0,showLineNumbers:!0,tabSize:2,fontSize:16,highlightSelectedWord:!0,maxLines:10,minLines:10,animatedScroll:!0}})}x.defaultProps={debounceDelay:300};var F=x,U={FULL:"FULL",COMPACT:"COMPACT"},B="VIEW",M="EDIT",H=[{key:B,tab:"View"},{key:M,tab:"Edit details"}],N=function(e){Object(o.a)(n,e);var t=Object(p.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).onChangeBodyHandler=function(e){e!==i.props.snippet.body&&i.props.onChange(Object(a.a)({},i.props.snippet,{body:e}))},i.onChangeProgrammingLanguageHandler=function(e){e!==i.props.snippet.programmingLanguageId&&i.props.onChange(Object(a.a)({},i.props.snippet,{programmingLanguageId:e}))},i.onChangeNameHandler=function(e){e!==i.props.snippet.name&&i.props.onChange(Object(a.a)({},i.props.snippet,{name:e}))},i.state={currentTab:B},i}return Object(i.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return[e.snippet.body!==this.props.snippet.body,e.snippet.programmingLanguageId!==this.props.snippet.programmingLanguageId,e.snippet.name!==this.props.snippet.name,t.currentTab!==this.state.currentTab].some((function(e){return!0===e}))}},{key:"render",value:function(){var e=this;return c.a.createElement(l.a,{title:this.props.snippet.name||"Unnamed Snippet",tabList:H,onTabChange:function(t){return e.setState({currentTab:t})},activeTabKey:this.state.currentTab,tabBarExtraContent:c.a.createElement(g.a,null,this.props.mode===U.COMPACT&&c.a.createElement(c.a.Fragment,null,c.a.createElement(m.a,{title:"Save"},c.a.createElement(d.a,{type:"primary",icon:c.a.createElement(f.a,null),onClick:function(){return e.props.onSave(e.props.snippet)}})),c.a.createElement(m.a,{title:"Edit"},c.a.createElement(u.b,{to:"snippets/".concat(this.props.snippet.id)},c.a.createElement(d.a,{type:"default",icon:c.a.createElement(b.a,null)})))),!this.props.withoutDeleteButton&&c.a.createElement(m.a,{title:"Delete"},c.a.createElement(h.a,{placement:"topLeft",title:"Are you sure\uff1f",icon:c.a.createElement(E.a,{style:{color:"red"}}),onConfirm:this.props.onDelete},c.a.createElement(d.a,{type:"danger",icon:c.a.createElement(S.a,null)}))))},this.state.currentTab===B&&c.a.createElement(F,{value:this.props.snippet.body,onChange:this.onChangeBodyHandler,debounceDelay:800,placeholder:"Your <Awesome /> snippet."}),this.state.currentTab===M&&c.a.createElement(c.a.Fragment,null,c.a.createElement(P,{snippet:this.props.snippet,onChangeName:this.onChangeNameHandler}),c.a.createElement(w,{programmingLanguageId:this.props.snippet.programmingLanguageId,onChange:this.onChangeProgrammingLanguageHandler})))}}]),n}(s.Component);N.defaultProps={mode:U.FULL,withoutDeleteButton:!1};t.b=N},398:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(136),i=n(137),p=n(186),o=n(144),s=n(139),c=n(0),u=n.n(c),l=n(52),g=n(397),m=n(389),d=n(390),h=n(368),f=n(369),b=n(185),E=n(150),S=n(163);var v=function(e){return u.a.createElement(h.a,{gutter:[24,24]},e.snippets.map((function(t){return u.a.createElement(f.a,{xs:24,sm:24,md:12,xxl:6,key:t.id},u.a.createElement(S.b,{snippet:t,mode:S.a.COMPACT,onDelete:function(){return e.onDelete(t.id)},onChange:e.onChangeSnippet,onSave:e.onSaveSnippet}))})))},y=n(43),L=function(e){Object(s.a)(n,e);var t=Object(o.a)(n);function n(e){var i;return Object(r.a)(this,n),(i=t.call(this,e)).fetchSnippets=function(){var e=i.props,t=e.fetchSnippets,n=e.setLoading;n(!0),t().finally((function(){n(!1)}))},i.onChangeBody=function(e){i.setState((function(t){return{snippet:Object(a.a)({},t.snippet,{body:e})}}))},i.resetSnippet=function(){i.setState({snippet:{id:void 0,name:"",body:"",programmingLanguageId:void 0}})},i.deleteSnippetHandler=function(e){var t=i.props.deleteSnippet,n=Object(p.a)(i).fetchSnippets;t(e).then((function(e){e.error?g.a.error("Ops, something went wrong."):(n(),g.a.success("Snippet successfuly deleted."))}))},i.saveSnippet=Object(E.debounce)((function(e){(0,i.props.updateSnippet)(e).then((function(e){e.error?g.a.error("Ops, something went wrong. Try again later."):g.a.success("Snippet successfuly saved.")}))}),500),i.addSnippet=function(e){var t=i.props,n=t.createSnippet,a=t.fetchSnippets,r=Object(p.a)(i).resetSnippet;n(e).then((function(e){e.error?g.a.error("Ops, something went wrong. Try again later."):(r(),g.a.success("Snippet successfuly added."),a())}))},i.state={snippet:{id:void 0,name:"",body:"",programmingLanguageId:void 0}},i}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.fetchSnippets()}},{key:"render",value:function(){var e=this,t=0===this.state.snippet.body.length,n=this.props.loading?u.a.createElement(m.a,{size:"large",tip:"Loading your snippets",style:{textAlign:"center",width:"100%",margin:"20px 0"}}):null;return u.a.createElement(d.a,{direction:"vertical",style:{width:"100%"}},u.a.createElement(h.a,{gutter:16},u.a.createElement(f.a,null,u.a.createElement("h1",null,"SnippetsList"))),u.a.createElement(h.a,{gutter:16},u.a.createElement(f.a,{xs:24},u.a.createElement(S.b,{withoutDeleteButton:!0,snippet:this.state.snippet,onChange:function(t){return e.setState({snippet:t})}}))),u.a.createElement(h.a,{justify:"end"},u.a.createElement(f.a,null,u.a.createElement(b.a,{type:"primary",onClick:function(){return e.addSnippet(e.state.snippet)},disabled:t},"Add snippet!"))),u.a.createElement("section",null,u.a.createElement(h.a,null,u.a.createElement(f.a,{span:24},u.a.createElement("h1",null,"Your snippets"),n)),u.a.createElement(v,{snippets:this.props.snippets,onChangeSnippet:this.props.setUpdatedSnippet,onDelete:this.deleteSnippetHandler,onSaveSnippet:this.saveSnippet})))}}]),n}(c.Component);t.default=Object(l.b)((function(e){return{snippets:e.snippet.snippets,loading:e.snippet.loading}}),(function(e){return{setLoading:function(t){return e(y.setLoading(t))},fetchSnippets:function(){return e(y.fetchSnippets())},setUpdatedSnippet:function(t){return e(y.setUpdatedSnippet(t))},createSnippet:function(t){return e(y.createSnippet(t))},updateSnippet:function(t){return e(y.updateSnippet(t))},deleteSnippet:function(t){return e(y.deleteSnippet(t))}}}))(L)}}]);
//# sourceMappingURL=5.d94e8ffa.chunk.js.map